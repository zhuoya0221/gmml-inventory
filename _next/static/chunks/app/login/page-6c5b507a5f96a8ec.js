(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{2890:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});let o=(0,r(945).UU)("https://ydamkailcnhfmutdvmsk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkYW1rYWlsY25oZm11dGR2bXNrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4NTExMzIsImV4cCI6MjA3NDQyNzEzMn0.8oSPmI_svRRq9GdvsssciUNe0PmD_fkkyhwDG5-FGdA",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},4819:(e,t,r)=>{Promise.resolve().then(r.bind(r,9697))},9697:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var o=r(5155),s=r(2115),n=r(2890),i=r(63),a=r(2663);let l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:h,...u}=e;return(0,s.createElement)("svg",{ref:t,...d,width:o,height:o,stroke:r,strokeWidth:i?24*Number(n)/Number(o):n,className:c("lucide",a),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(l)?l:[l]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,o)=>{let{className:n,...i}=r;return(0,s.createElement)(h,{ref:o,iconNode:t,className:c("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...i})});return r.displayName=l(e),r},m=u("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),g=u("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);function p(){let[e,t]=(0,s.useState)(!1),r=(0,i.useRouter)();(0,s.useEffect)(()=>{(async()=>{let e=new URL(window.location.href),o=e.searchParams.get("code"),s=e.searchParams.get("error_description");if(s){a.oR.error(decodeURIComponent(s)),window.history.replaceState({},document.title,window.location.pathname);return}if(o)try{t(!0);let{error:e}=await n.N.auth.exchangeCodeForSession(window.location.href);if(e)return void a.oR.error("Authentication failed: ".concat(e.message));window.history.replaceState({},document.title,window.location.pathname),a.oR.success("Login successful!"),r.push("/team-dashboard")}catch(e){console.error("Error completing OAuth flow:",e),a.oR.error("Unable to complete Google login. Please try again.")}finally{t(!1)}})()},[r]);let l=async()=>{try{t(!0);let e="".concat(window.location.origin).concat(window.location.pathname),{data:r,error:o}=await n.N.auth.signInWithOAuth({provider:"google",options:{redirectTo:e}});o?(console.error("OAuth Error:",o),a.oR.error("Error logging in with Google: ".concat(o.message))):(null==r?void 0:r.url)&&console.log("\uD83D\uDD17 OAuth URL generated:",r.url)}catch(e){console.error("Error during login:",e),a.oR.error("An unexpected error occurred")}finally{t(!1)}};return(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:(0,o.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"mx-auto h-12 w-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-white font-bold text-xl",children:"G"})}),(0,o.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"GMML Inventory"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access the inventory management system"})]}),(0,o.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,o.jsx)("button",{onClick:l,disabled:e,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e?(0,o.jsx)(m,{className:"h-5 w-5 animate-spin"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g,{className:"h-5 w-5 mr-2"}),"Sign in with Google"]})}),(0,o.jsx)("button",{onClick:()=>r.push("/dashboard"),className:"w-full py-2 px-4 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 transition-colors",children:"Demo Mode (Skip Authentication)"}),(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("p",{className:"text-xs text-gray-500",children:"Only authorized team members can access this system"})})]})]})})}}},e=>{e.O(0,[663,796,441,255,358],()=>e(e.s=4819)),_N_E=e.O()}]);