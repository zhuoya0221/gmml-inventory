(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{63:(e,o,s)=>{"use strict";var t=s(7260);s.o(t,"useRouter")&&s.d(o,{useRouter:function(){return t.useRouter}})},2474:(e,o,s)=>{"use strict";s.r(o),s.d(o,{default:()=>c});var t=s(5155),r=s(2115),n=s(2890),i=s(63);function c(){let[e,o]=(0,r.useState)(!1),s=(0,i.useRouter)(),c=async()=>{try{o(!0),console.log("\uD83D\uDE80 Starting simple login...");let{data:e,error:s}=await n.N.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/simple-login"),queryParams:{access_type:"offline",prompt:"consent"}}});console.log("\uD83D\uDCE4 Simple OAuth response:",{data:e,error:s}),s?(console.error("❌ Error:",s),alert("Error: ".concat(s.message))):console.log("✅ OAuth URL:",null==e?void 0:e.url)}catch(e){console.error("\uD83D\uDCA5 Exception:",e),alert("Exception: ".concat(e.message))}finally{o(!1)}};(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search),o=e.get("code"),s=e.get("error");o?(console.log("✅ Got auth code:",o.substring(0,20)+"..."),alert("Success! Got auth code: ".concat(o.substring(0,20),"...")),a(o)):s&&(console.error("❌ OAuth error:",s),alert("OAuth error: ".concat(s)))},[]);let a=async e=>{try{console.log("\uD83D\uDD04 Exchanging code for session...");let{data:o,error:t}=await n.N.auth.exchangeCodeForSession(e);t?(console.error("\uD83D\uDCA5 Session exchange error:",t),alert("Session exchange error: ".concat(t.message))):(console.log("✅ Session established:",o),alert("Login successful! Redirecting to dashboard..."),s.push("/dashboard"))}catch(e){console.error("\uD83D\uDCA5 Exception during session exchange:",e),alert("Exception: ".concat(e.message))}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Simple Login Test"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Testing simplified OAuth flow"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("button",{onClick:c,disabled:e,className:"w-full py-3 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:e?"Loading...":"Simple Supabase OAuth"}),(0,t.jsx)("button",{onClick:()=>{console.log("\uD83D\uDE80 Trying direct Supabase OAuth...");let e="https://ydamkailcnhfmutdvmsk.supabase.co/auth/v1/authorize?provider=google&redirect_to=".concat(encodeURIComponent(window.location.origin+"/simple-login"));console.log("\uD83D\uDD17 Direct URL:",e),confirm("Try direct Supabase OAuth?")&&(window.location.href=e)},className:"w-full py-3 px-4 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Direct Supabase OAuth"}),(0,t.jsx)("button",{onClick:()=>s.push("/dashboard"),className:"w-full py-3 px-4 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Skip to Dashboard (Demo)"})]})]})})}},2890:(e,o,s)=>{"use strict";s.d(o,{N:()=>t});let t=(0,s(945).UU)("https://ydamkailcnhfmutdvmsk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkYW1rYWlsY25oZm11dGR2bXNrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4NTExMzIsImV4cCI6MjA3NDQyNzEzMn0.8oSPmI_svRRq9GdvsssciUNe0PmD_fkkyhwDG5-FGdA",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},3856:(e,o,s)=>{Promise.resolve().then(s.bind(s,2474))}},e=>{e.O(0,[945,441,255,358],()=>e(e.s=3856)),_N_E=e.O()}]);